{"version":3,"file":"label-main.js","sources":["../src/actions/label/label-main.ts"],"sourcesContent":["import fs from 'fs'\n\nimport * as core from '@actions/core'\nimport isUndefined from 'lodash/isUndefined'\nimport YAML from 'yaml'\n\nimport {configPath} from '../../constants/path'\nimport {JiraConfig} from '../../types'\nimport {getOptionalInput} from '../../utils/action'\n\nimport execute from './label-execute'\n\nconst config: JiraConfig = YAML.parse(fs.readFileSync(configPath, 'utf8'))\n\nasync function run(): Promise<void> {\n  try {\n    let addLabels: string[] = []\n    let removeLabels: string[] = []\n\n    const inputAddLabel = getOptionalInput('add')\n    const inputRemoveLabel = getOptionalInput('remove')\n\n    if (!isUndefined(inputAddLabel)) {\n      addLabels = inputAddLabel.split(',')\n    }\n\n    if (!isUndefined(inputRemoveLabel)) {\n      removeLabels = inputRemoveLabel.split(',')\n    }\n\n    await execute(config, addLabels, removeLabels)\n\n    return\n  } catch (error) {\n    const message = error instanceof Error ? error.message : String(error)\n    core.setFailed(message)\n    console.log(error)\n    return\n  }\n}\n\nvoid run()\n"],"names":["YAML","configPath","getOptionalInput","isUndefined","execute","core.setFailed"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAYA,MAAM,MAAM,GAAeA,UAAI,CAAC,KAAK,CAAC,EAAE,CAAC,YAAY,CAACC,eAAU,EAAE,MAAM,CAAC,CAAC,CAAA;AAE1E,eAAe,GAAG,GAAA;IAChB,IAAI;QACF,IAAI,SAAS,GAAa,EAAE,CAAA;QAC5B,IAAI,YAAY,GAAa,EAAE,CAAA;AAE/B,QAAA,MAAM,aAAa,GAAGC,uBAAgB,CAAC,KAAK,CAAC,CAAA;AAC7C,QAAA,MAAM,gBAAgB,GAAGA,uBAAgB,CAAC,QAAQ,CAAC,CAAA;AAEnD,QAAA,IAAI,CAACC,0BAAW,CAAC,aAAa,CAAC,EAAE;AAC/B,YAAA,SAAS,GAAG,aAAa,CAAC,KAAK,CAAC,GAAG,CAAC,CAAA;AACrC,SAAA;AAED,QAAA,IAAI,CAACA,0BAAW,CAAC,gBAAgB,CAAC,EAAE;AAClC,YAAA,YAAY,GAAG,gBAAgB,CAAC,KAAK,CAAC,GAAG,CAAC,CAAA;AAC3C,SAAA;QAED,MAAMC,YAAO,CAAC,MAAM,EAAE,SAAS,EAAE,YAAY,CAAC,CAAA;QAE9C,OAAM;AACP,KAAA;AAAC,IAAA,OAAO,KAAK,EAAE;AACd,QAAA,MAAM,OAAO,GAAG,KAAK,YAAY,KAAK,GAAG,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC,KAAK,CAAC,CAAA;AACtE,QAAAC,0BAAc,CAAC,OAAO,CAAC,CAAA;AACvB,QAAA,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAA;QAClB,OAAM;AACP,KAAA;AACH,CAAC;AAED,KAAK,GAAG,EAAE;;"}